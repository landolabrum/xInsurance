(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5221],{11149:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n=r(14232),i=r(54604),o=r.n(i),s=[".three-d-viewer.jsx-1691063111{width:100vw;height:100%;position:fixed;top:0;left:0;}"];s.__hash="1691063111";var a=r(39286),c=r(42969),h=r(63857),l=r(43081),u=r.n(l),d=r(76930),f=r(98708),p=r(71384),v=r(43148),w=r(38812),j=r(14796),x=r(96941),g=[".three-glb.jsx-873602638{width:var(--s-9-width);height:var(--s-9-width);position:relative;}",".three-glb--content.jsx-873602638{overflow:hidden;overflow:visible;position:absolute;top:0;left:0;right:0;width:100%;height:100%;}"];g.__hash="873602638";var m=r(94516),b=r(37876);let _=function(e){var t=e.controls,r=void 0===t||t,i=(0,n.useRef)(),o=(0,d.D)(),s=o.camera,a=o.gl;return(0,b.jsx)(m.N,{ref:i,args:[s,a.domElement],enableZoom:r,enableRotate:r,enablePan:r,enableDamping:!0,dampingFactor:.1,rotateSpeed:.5})};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var P=function(e){var t=e.gltf,r=e.containerSize,i=e.fov,o=e.animate,s=(0,n.useRef)(null),a=(0,d.D)().camera;return(0,n.useEffect)(function(){if(s.current&&a){var e=new j.Box3().setFromObject(s.current),t=new j.Vector3,n=new j.Vector3;e.getCenter(t),e.getSize(n),s.current.position.sub(t);var c=Math.max(n.x,n.y,n.z);null!=r&&r.width&&!isNaN(parseFloat(r.width))&&r.width,null!=r&&r.height&&!isNaN(parseFloat(r.height))&&r.height,a.updateProjectionMatrix();var h=c/(2*Math.tan(i*Math.PI/180/2));a.position.set(-h,-h,h+n.z),o?x.os.to(a.position,{x:0,y:0,z:h+n.z,duration:1.5,ease:"power2.inOut",onUpdate:function(){a.lookAt(0,0,0),a.updateProjectionMatrix()}}):(a.position.set(0,0,h+n.z),a.lookAt(0,0,0),a.updateProjectionMatrix())}},[t,a,r,o]),(0,b.jsx)("primitive",{object:t.scene,ref:s,scale:1,position:[0,0,0]})};let y=function(e){var t,r=e.width,i=void 0===r?"100%":r,s=e.height,a=void 0===s?"100%":s,l=e.modelPath,d=(e.wireframe,e.wireframeColor,e.fov),j=void 0===d?100:d,x=e.animate,m=e.controls,y=(0,n.useRef)(null),E=(0,n.useState)({width:i,height:a}),N=E[0],k=E[1],S=(0,n.useState)();S[0],S[1];var z=(0,n.useState)(!0),M=z[0],D=z[1],A=(0,n.useState)(l),R=A[0],F=A[1],C=(0,p.p)(R),H=function(){if(y.current){var e=y.current;k({width:e.offsetWidth,height:e.offsetHeight})}};(0,n.useEffect)(function(){return H(),window.addEventListener("resize",H),function(){return window.removeEventListener("resize",H)}},[]);var L=(t=(0,h.A)(u().mark(function e(t){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"HEAD"});case 3:if(e.sent.ok){e.next=6;break}throw Error("Model not found");case 6:D(!0),F(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),D(!1),F("./merchant/nirv1/3dModels/products/MetalBox.glb");case 14:case"end":return e.stop()}},e,null,[[0,10]])})),function(e){return t.apply(this,arguments)});return(0,n.useEffect)(function(){L(l)},[]),(0,b.jsxs)("div",{ref:y,style:{width:i,height:a},className:"jsx-".concat(g.__hash),children:[(0,b.jsx)(o(),{id:g.__hash,children:g}),M?(0,b.jsx)(f.Hl,{children:(0,b.jsxs)(n.Suspense,{fallback:null,children:[(0,b.jsx)(v.u,{makeDefault:!0,fov:j,position:[0,0,5]}),(0,b.jsx)("ambientLight",{intensity:.5,className:"jsx-".concat(g.__hash)}),(0,b.jsx)(w.OH,{preset:"sunset"}),(0,b.jsx)(_,{controls:m}),(0,b.jsx)(P,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,c.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{gltf:C,containerSize:N,fov:j,animate:x}))]})}):(0,b.jsx)("div",{className:"jsx-".concat(g.__hash),children:"No GLB model found"})]})},E=function(e){var t=e.modelPath,r=(0,a.A)().width;return((0,n.useEffect)(function(){},[]),r)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o(),{id:s.__hash,children:s}),(0,b.jsx)("div",{className:"jsx-".concat(s.__hash)+" three-d-viewer",children:(0,b.jsx)(y,{fov:50,width:r>1100?"var(--s-9-width)":"100%",height:r>1100?"100vh":"33vh",modelPath:void 0!=t?String(t):t="/merchant/nirv1/3dModels/plots/861RedRock.glb"})})]}):"loading"},N=function(){return(0,b.jsx)(E,{})}},78361:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/3d",function(){return r(11149)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[7391,6742,3189,636,6593,8792],()=>t(78361)),_N_E=e.O()}]);